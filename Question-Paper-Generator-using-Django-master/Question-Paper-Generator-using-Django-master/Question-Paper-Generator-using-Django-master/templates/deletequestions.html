<!DOCTYPE html>
<html>
<head>
    <title>Delete Questions</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet">
</head>
<body>
    <div class="container mt-4">
        <h2>Filtered Questions</h2>
        {% if questions %}
            <ul class="list-group">
            {% for question in questions %}
                <li class="list-group-item d-flex justify-content-between align-items-center">
                    {{ question.question }}
                    <form method="post" action="" style="display:inline;">
                        {% csrf_token %}
                        <input type="hidden" name="question_id" value="{{ question.id }}">
                        <button type="submit" class="btn btn-danger btn-sm">Delete</button>
                    </form>
                </li>
            {% endfor %}
            </ul>
        {% else %}
            <div class="alert alert-warning mt-3">No questions found for the selected filters.</div>
        {% endif %}
        <a href="{% url 'delete' %}" class="btn btn-secondary mt-4">Back to Filter</a>
    </div>

    {% if messages %}
      <div id="success-alert" class="alert alert-success" style="display:none; position:fixed; top:30px; left:50%; transform:translateX(-50%); z-index:9999; min-width:300px; text-align:center;">
        {% for message in messages %}
          {{ message }}
        {% endfor %}
      </div>
      <script>
        window.onload = function() {
          var alertBox = document.getElementById('success-alert');
          if(alertBox){
            alertBox.style.display = 'block';
            alertBox.style.opacity = 0;
            // Fade in
            let op = 0;
            let fadeIn = setInterval(function(){
              if(op >= 1){
                clearInterval(fadeIn);
                // Fade out after 2 seconds
                setTimeout(function(){
                  let fadeOut = setInterval(function(){
                    if(op <= 0){
                      clearInterval(fadeOut);
                      alertBox.style.display = 'none';
                    }
                    alertBox.style.opacity = op;
                    op -= 0.05;
                  }, 30);
                }, 2000);
              }
              alertBox.style.opacity = op;
              op += 0.05;
            }, 30);
          }
        }
      </script>
    {% endif %}
</body>
</html>